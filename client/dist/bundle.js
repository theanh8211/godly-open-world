/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./client/scripts/game.js":
/*!********************************!*\
  !*** ./client/scripts/game.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   game: () => (/* binding */ game),\n/* harmony export */   inventory: () => (/* binding */ inventory),\n/* harmony export */   player: () => (/* binding */ player),\n/* harmony export */   players: () => (/* binding */ players),\n/* harmony export */   startGame: () => (/* binding */ startGame),\n/* harmony export */   tiles: () => (/* binding */ tiles)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./client/scripts/socket.js\");\n/* harmony import */ var _minimap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./minimap.js */ \"./client/scripts/minimap.js\");\n/* harmony import */ var _inventory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inventory.js */ \"./client/scripts/inventory.js\");\n/* harmony import */ var _party_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./party.js */ \"./client/scripts/party.js\");\n/* harmony import */ var _teleport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./teleport.js */ \"./client/scripts/teleport.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\n\nvar game,\n  player,\n  players = {},\n  inventory = [],\n  quests = [],\n  tiles = [];\nvar MAP_SIZE = 10000;\nvar TILE_SIZE = 50;\nvar MIN_TILES = 50;\nvar auraTypes = [{\n  name: 'Fire',\n  color: 0xff4500\n}, {\n  name: 'Ice',\n  color: 0x00b7eb\n}, {\n  name: 'Thunder',\n  color: 0xffff00\n}, {\n  name: 'Dark',\n  color: 0x4b0082\n}, {\n  name: 'Light',\n  color: 0xffffff\n}, {\n  name: 'Nature',\n  color: 0x00ff00\n}, {\n  name: 'Wind',\n  color: 0x87ceeb\n}, {\n  name: 'Earth',\n  color: 0x8b4513\n}, {\n  name: 'Void',\n  color: 0x000000\n}, {\n  name: 'Star',\n  color: 0xffd700\n}];\nvar questTypes = [{\n  desc: 'Collect 5 auras',\n  reward: 500,\n  progress: 0,\n  goal: 5\n}, {\n  desc: 'Travel 1000 units',\n  reward: 300,\n  progress: 0,\n  goal: 1000\n}, {\n  desc: 'Trade 3 times',\n  reward: 400,\n  progress: 0,\n  goal: 3\n}];\nvar userData = null,\n  targetPosition = null,\n  isMining = false;\nfunction preload() {\n  this.load.image('player', './assets/phaser-dude.png');\n}\nfunction create() {\n  var _this = this;\n  this.add.rectangle(0, 0, MAP_SIZE, MAP_SIZE, 0x228B22).setOrigin(0).setDepth(0);\n  var startX = userData.lastX || Math.random() * (MAP_SIZE - 100) + 50;\n  var startY = userData.lastY || Math.random() * (MAP_SIZE - 100) + 50;\n  player = this.physics.add.sprite(startX, startY, 'player').setDepth(2);\n  player.setCollideWorldBounds(true);\n  player.coins = userData.coins || 0;\n  player.id = userData.id;\n  player.chatText = this.add.text(0, 0, userData.characterName, {\n    color: '#fff',\n    fontSize: '12px',\n    stroke: '#000',\n    strokeThickness: 2\n  }).setDepth(3);\n  this.cameras.main.setBounds(0, 0, MAP_SIZE, MAP_SIZE);\n  this.cameras.main.startFollow(player, true, 0.1, 0.1);\n  this.physics.world.setBounds(0, 0, MAP_SIZE, MAP_SIZE);\n  this.input.on('pointerdown', function (pointer) {\n    var worldPoint = _this.cameras.main.getWorldPoint(pointer.x, pointer.y);\n    targetPosition = {\n      x: Phaser.Math.Clamp(worldPoint.x, 0, MAP_SIZE),\n      y: Phaser.Math.Clamp(worldPoint.y, 0, MAP_SIZE)\n    };\n  });\n  (0,_minimap_js__WEBPACK_IMPORTED_MODULE_1__.initMinimap)(this);\n  (0,_inventory_js__WEBPACK_IMPORTED_MODULE_2__.initInventory)();\n  (0,_party_js__WEBPACK_IMPORTED_MODULE_3__.initParty)();\n  (0,_teleport_js__WEBPACK_IMPORTED_MODULE_4__.initTeleport)(this);\n  quests = questTypes.map(function (q) {\n    return _objectSpread({}, q);\n  });\n  updateQuests();\n  if (ws.readyState === WebSocket.OPEN) {\n    (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n      type: 'join',\n      id: player.id,\n      x: player.x,\n      y: player.y,\n      characterName: userData.characterName\n    });\n  }\n  setInterval(checkAndSpawnTiles, 5000);\n}\nfunction update() {\n  player.chatText.setPosition(player.x - 16, player.y - 32);\n  Object.values(players).forEach(function (p) {\n    if (p.chatText) p.chatText.setPosition(p.x - 16, p.y - 32);\n  });\n  if (targetPosition) {\n    var distance = Phaser.Math.Distance.Between(player.x, player.y, targetPosition.x, targetPosition.y);\n    if (distance > 5) {\n      this.physics.moveTo(player, targetPosition.x, targetPosition.y, 250);\n      (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n        type: 'move',\n        id: player.id,\n        x: targetPosition.x,\n        y: targetPosition.y\n      });\n    } else {\n      player.setVelocity(0);\n      targetPosition = null;\n    }\n  }\n  if (!isMining) checkMining.call(this);\n  (0,_minimap_js__WEBPACK_IMPORTED_MODULE_1__.updateMinimap)(player, players);\n}\nfunction checkMining() {\n  var _this2 = this;\n  var nearestTile = tiles.reduce(function (closest, tile) {\n    var centerX = tile.x + TILE_SIZE / 2;\n    var centerY = tile.y + TILE_SIZE / 2;\n    var distance = Phaser.Math.Distance.Between(player.x, player.y, centerX, centerY);\n    return distance < closest.distance ? {\n      tile: tile,\n      distance: distance\n    } : closest;\n  }, {\n    tile: null,\n    distance: Infinity\n  });\n  if (nearestTile.tile && nearestTile.distance <= TILE_SIZE) {\n    isMining = true;\n    player.setVelocity(0);\n    setTimeout(function () {\n      mineAura.call(_this2, nearestTile.tile);\n      isMining = false;\n    }, 1000);\n  }\n}\nfunction mineAura(tile) {\n  if (!tile || !tiles.includes(tile)) return;\n  var tileData = {\n    x: tile.x,\n    y: tile.y,\n    color: tile.fillColor\n  };\n  tile.destroy();\n  tiles = tiles.filter(function (t) {\n    return t !== tile;\n  });\n  var auraChance = Math.random();\n  if (auraChance < 0.7) {\n    var aura = auraTypes[Math.floor(Math.random() * auraTypes.length)];\n    inventory.push(aura);\n    updateQuestProgress('Collect', 1);\n  }\n  player.coins += Math.floor(Math.random() * 100) + 50;\n  (0,_inventory_js__WEBPACK_IMPORTED_MODULE_2__.updateInventoryUI)();\n  (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n    type: 'mine_tile',\n    id: player.id,\n    tile: tileData\n  });\n  (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n    type: 'update_coins',\n    id: player.id,\n    coins: player.coins\n  });\n  (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n    type: 'update_inventory',\n    id: player.id,\n    inventory: inventory\n  });\n}\nfunction checkAndSpawnTiles() {\n  if (tiles.length < MIN_TILES) {\n    var tilesToAdd = MIN_TILES - tiles.length;\n    var _loop = function _loop() {\n      var x, y, overlap;\n      do {\n        x = Math.floor(Math.random() * (MAP_SIZE / TILE_SIZE)) * TILE_SIZE;\n        y = Math.floor(Math.random() * (MAP_SIZE / TILE_SIZE)) * TILE_SIZE;\n        overlap = tiles.some(function (tile) {\n          return tile.x === x && tile.y === y;\n        });\n      } while (overlap);\n      var colors = [0xff0000, 0x00ff00, 0x0000ff, 0xffff00, 0xff00ff];\n      var tile = game.scene.scenes[0].add.rectangle(x, y, TILE_SIZE, TILE_SIZE, colors[Math.floor(Math.random() * colors.length)]).setOrigin(0).setDepth(1);\n      tiles.push(tile);\n      (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n        type: 'spawn_tile',\n        tile: {\n          x: x,\n          y: y,\n          color: tile.fillColor\n        }\n      });\n    };\n    for (var i = 0; i < tilesToAdd; i++) {\n      _loop();\n    }\n  }\n}\nfunction updateQuests() {\n  var questsDiv = document.getElementById('quests');\n  questsDiv.innerHTML = '<h3>Quests</h3>';\n  quests.forEach(function (q) {\n    questsDiv.innerHTML += \"<div>\".concat(q.desc, \": \").concat(q.progress, \"/\").concat(q.goal, \" (\").concat(q.reward, \" coins)</div>\");\n  });\n}\nfunction updateQuestProgress(type, value) {\n  quests.forEach(function (q) {\n    if (q.desc.includes(type)) {\n      q.progress += value;\n      if (q.progress >= q.goal) {\n        player.coins += q.reward;\n        q.progress = 0;\n        (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n          type: 'update_coins',\n          id: player.id,\n          coins: player.coins\n        });\n      }\n    }\n  });\n  updateQuests();\n}\nfunction startGame(data) {\n  userData = data;\n  inventory = data.inventory || [];\n  localStorage.setItem('userData', JSON.stringify(userData));\n  document.getElementById('auth-container').style.display = 'none';\n  document.getElementById('game-container').style.display = 'flex';\n  var config = {\n    type: Phaser.AUTO,\n    width: window.innerWidth * 0.8,\n    height: window.innerHeight,\n    parent: 'game-canvas',\n    scene: {\n      preload: preload,\n      create: create,\n      update: update\n    },\n    physics: {\n      \"default\": 'arcade',\n      arcade: {\n        debug: false\n      }\n    },\n    pixelArt: true\n  };\n  game = new Phaser.Game(config);\n  window.addEventListener('resize', function () {\n    game.scale.resize(window.innerWidth * 0.8, window.innerHeight);\n  });\n}\n\n\n//# sourceURL=webpack://godly-open-world/./client/scripts/game.js?");

/***/ }),

/***/ "./client/scripts/inventory.js":
/*!*************************************!*\
  !*** ./client/scripts/inventory.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initInventory: () => (/* binding */ initInventory),\n/* harmony export */   updateInventoryUI: () => (/* binding */ updateInventoryUI)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./client/scripts/socket.js\");\n\nvar selectedAuraIndex = null;\nfunction initInventory() {\n  document.getElementById('inventory-btn').onclick = function () {\n    return toggleMenuTab('inventory', document.getElementById('inventory-btn'));\n  };\n}\nfunction updateInventoryUI() {\n  var _document$querySelect;\n  var contentDiv = document.getElementById('menu-content');\n  if (((_document$querySelect = document.querySelector('.menu-btn.active')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.id) === 'inventory-btn') {\n    contentDiv.innerHTML = \"\\n            <div class=\\\"menu-option\\\">Bag (Coins: \".concat(game.player.coins, \")</div>\\n            <div id=\\\"inventory-grid\\\"></div>\\n            <button class=\\\"menu-option\\\" id=\\\"equip-btn\\\" style=\\\"display: \").concat(selectedAuraIndex !== null ? 'block' : 'none', \";\\\">Equip</button>\\n        \");\n    var grid = document.getElementById('inventory-grid');\n    game.inventory.forEach(function (aura, index) {\n      var item = document.createElement('div');\n      item.className = 'aura-item';\n      item.style.background = \"#\".concat(aura.color.toString(16).padStart(6, '0'));\n      item.innerHTML = \"<span class=\\\"aura-name\\\">\".concat(aura.name, \"</span>\");\n      item.onclick = function () {\n        selectedAuraIndex = index === selectedAuraIndex ? null : index;\n        updateInventoryUI();\n      };\n      if (index === selectedAuraIndex) item.classList.add('selected');\n      grid.appendChild(item);\n    });\n    if (document.getElementById('equip-btn')) {\n      document.getElementById('equip-btn').onclick = function () {\n        if (selectedAuraIndex !== null) {\n          console.log(\"Equipped \".concat(game.inventory[selectedAuraIndex].name));\n          selectedAuraIndex = null;\n          updateInventoryUI();\n        }\n      };\n    }\n  }\n}\nfunction toggleMenuTab(tab, button) {\n  var _document$querySelect2;\n  var menuContainer = document.getElementById('menu-content');\n  var currentTab = (_document$querySelect2 = document.querySelector('.menu-btn.active')) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.id;\n  if (currentTab === button.id) {\n    menuContainer.style.display = 'none';\n    button.classList.remove('active');\n  } else {\n    document.querySelectorAll('.menu-btn').forEach(function (btn) {\n      return btn.classList.remove('active');\n    });\n    button.classList.add('active');\n    menuContainer.style.display = 'block';\n    if (tab === 'inventory') updateInventoryUI();\n    // Xử lý các tab khác\n  }\n}\n\n\n//# sourceURL=webpack://godly-open-world/./client/scripts/inventory.js?");

/***/ }),

/***/ "./client/scripts/minimap.js":
/*!***********************************!*\
  !*** ./client/scripts/minimap.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addOrUpdatePlayer: () => (/* binding */ addOrUpdatePlayer),\n/* harmony export */   initMinimap: () => (/* binding */ initMinimap),\n/* harmony export */   updateMinimap: () => (/* binding */ updateMinimap)\n/* harmony export */ });\nvar miniMap,\n  miniMapPlayers = {};\nfunction initMinimap(scene) {\n  miniMap = scene.add.rectangle(10, 10, 200, 200, 0x333333, 0.8).setOrigin(0).setScrollFactor(0);\n  scene.add.rectangle(10, 10, 200, 200).setOrigin(0).setScrollFactor(0).setStrokeStyle(2, 0xffffff);\n  miniMapPlayers[scene.player.id] = scene.add.circle(10 + 100, 10 + 100, 5, 0xff0000).setOrigin(0.5).setScrollFactor(0);\n  scene.add.text(10 + 100, 220, \"X: \".concat(Math.floor(scene.player.x), \", Y: \").concat(Math.floor(scene.player.y)), {\n    color: '#fff',\n    fontSize: '14px',\n    stroke: '#000',\n    strokeThickness: 2\n  }).setOrigin(0.5).setScrollFactor(0);\n}\nfunction updateMinimap(player, players) {\n  var miniMapScale = 200 / 10000;\n  miniMapPlayers[player.id].x = 10 + player.x * miniMapScale;\n  miniMapPlayers[player.id].y = 10 + player.y * miniMapScale;\n  Object.values(players).forEach(function (p) {\n    if (miniMapPlayers[p.id]) {\n      miniMapPlayers[p.id].x = 10 + p.x * miniMapScale;\n      miniMapPlayers[p.id].y = 10 + p.y * miniMapScale;\n    }\n  });\n}\nfunction addOrUpdatePlayer(id, x, y, characterName) {\n  var scene = game.scene.scenes[0];\n  if (!game.players[id]) {\n    game.players[id] = scene.physics.add.sprite(x, y, 'player').setDepth(2);\n    game.players[id].chatText = scene.add.text(x - 16, y - 32, characterName, {\n      color: '#fff',\n      fontSize: '12px',\n      stroke: '#000',\n      strokeThickness: 2\n    }).setDepth(3);\n    game.players[id].characterName = characterName;\n    miniMapPlayers[id] = scene.add.circle(10 + x * 200 / 10000, 10 + y * 200 / 10000, 5, 0x00ff00).setOrigin(0.5).setScrollFactor(0);\n  } else {\n    game.players[id].x = x;\n    game.players[id].y = y;\n    game.players[id].chatText.setText(characterName);\n    miniMapPlayers[id].x = 10 + x * 200 / 10000;\n    miniMapPlayers[id].y = 10 + y * 200 / 10000;\n  }\n}\n\n\n//# sourceURL=webpack://godly-open-world/./client/scripts/minimap.js?");

/***/ }),

/***/ "./client/scripts/party.js":
/*!*********************************!*\
  !*** ./client/scripts/party.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPartyMessage: () => (/* binding */ addPartyMessage),\n/* harmony export */   initParty: () => (/* binding */ initParty),\n/* harmony export */   party: () => (/* binding */ party)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./client/scripts/socket.js\");\n\nvar party = [];\nfunction initParty() {\n  document.getElementById('party-btn').onclick = function () {\n    return toggleMenuTab('party', document.getElementById('party-btn'));\n  };\n}\nfunction toggleMenuTab(tab, button) {\n  var _document$querySelect;\n  var menuContainer = document.getElementById('menu-content');\n  var currentTab = (_document$querySelect = document.querySelector('.menu-btn.active')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.id;\n  if (currentTab === button.id) {\n    menuContainer.style.display = 'none';\n    button.classList.remove('active');\n  } else {\n    document.querySelectorAll('.menu-btn').forEach(function (btn) {\n      return btn.classList.remove('active');\n    });\n    button.classList.add('active');\n    menuContainer.style.display = 'block';\n    if (tab === 'party') updatePartyUI();\n  }\n}\nfunction updatePartyUI() {\n  var contentDiv = document.getElementById('menu-content');\n  contentDiv.innerHTML = \"\\n        <div class=\\\"menu-option\\\">Party</div>\\n        <div id=\\\"party-list\\\"></div>\\n        <button class=\\\"menu-option\\\" id=\\\"invite-btn\\\">Invite</button>\\n        <div id=\\\"party-chat\\\"></div>\\n        <input id=\\\"party-chat-input\\\" type=\\\"text\\\" placeholder=\\\"Party chat...\\\" class=\\\"chat-input\\\">\\n    \";\n  var partyList = document.getElementById('party-list');\n  party.forEach(function (member) {\n    var item = document.createElement('div');\n    item.textContent = member.characterName;\n    partyList.appendChild(item);\n  });\n  document.getElementById('invite-btn').onclick = function () {\n    var targetId = prompt('Enter player ID to invite:');\n    if (targetId && game.players[targetId]) {\n      (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n        type: 'party_invite',\n        from: game.player.id,\n        to: targetId\n      });\n    }\n  };\n  document.getElementById('party-chat-input').addEventListener('keypress', function (e) {\n    if (e.key === 'Enter' && e.target.value) {\n      (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n        type: 'party_message',\n        id: game.player.id,\n        characterName: game.player.characterName,\n        message: e.target.value\n      });\n      e.target.value = '';\n    }\n  });\n}\nfunction addPartyMessage(characterName, msg) {\n  var partyChat = document.getElementById('party-chat');\n  if (partyChat) {\n    var div = document.createElement('div');\n    var now = new Date();\n    var timeStr = \"\".concat(now.getHours().toString().padStart(2, '0'), \":\").concat(now.getMinutes().toString().padStart(2, '0'));\n    div.textContent = \"[\".concat(timeStr, \"] \").concat(characterName, \": \").concat(msg);\n    partyChat.insertBefore(div, partyChat.firstChild);\n  }\n}\n\n\n//# sourceURL=webpack://godly-open-world/./client/scripts/party.js?");

/***/ }),

/***/ "./client/scripts/socket.js":
/*!**********************************!*\
  !*** ./client/scripts/socket.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendMessage: () => (/* binding */ sendMessage),\n/* harmony export */   ws: () => (/* binding */ ws)\n/* harmony export */ });\n/* harmony import */ var _minimap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./minimap.js */ \"./client/scripts/minimap.js\");\n/* harmony import */ var _inventory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inventory.js */ \"./client/scripts/inventory.js\");\n/* harmony import */ var _party_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./party.js */ \"./client/scripts/party.js\");\n/* harmony import */ var _game_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./game.js */ \"./client/scripts/game.js\");\n\n\n\n\nvar ws = null;\nfunction initWebSocket() {\n  ws = new WebSocket('wss://godly-open-world.fly.dev');\n  ws.onopen = function () {\n    return console.log('WebSocket connected');\n  };\n  ws.onerror = function (error) {\n    console.error('WebSocket error:', error);\n    setTimeout(initWebSocket, 2000);\n  };\n  ws.onclose = function () {\n    return console.log('WebSocket closed');\n  };\n  ws.onmessage = function (event) {\n    var data = JSON.parse(event.data);\n    switch (data.type) {\n      case 'auth':\n        if (data.success) {\n          (0,_game_js__WEBPACK_IMPORTED_MODULE_3__.startGame)(data);\n        } else {\n          alert(data.message);\n        }\n        break;\n      case 'init_players':\n        data.players.forEach(function (p) {\n          if (p.id !== game.player.id) (0,_minimap_js__WEBPACK_IMPORTED_MODULE_0__.addOrUpdatePlayer)(p.id, p.x, p.y, p.characterName);\n        });\n        break;\n      case 'join':\n        if (data.id !== game.player.id) (0,_minimap_js__WEBPACK_IMPORTED_MODULE_0__.addOrUpdatePlayer)(data.id, data.x, data.y, data.characterName);\n        break;\n      case 'move':\n        if (data.id !== game.player.id && game.players[data.id]) {\n          game.players[data.id].x = data.x;\n          game.players[data.id].y = data.y;\n          (0,_minimap_js__WEBPACK_IMPORTED_MODULE_0__.updateMinimap)(game.player, game.players);\n        }\n        break;\n      case 'chat':\n        addChatMessage(data.characterName, data.message);\n        break;\n      case 'party_message':\n        (0,_party_js__WEBPACK_IMPORTED_MODULE_2__.addPartyMessage)(data.characterName, data.message);\n        break;\n      case 'update_inventory':\n        if (data.id === game.player.id) {\n          game.inventory = data.inventory;\n          (0,_inventory_js__WEBPACK_IMPORTED_MODULE_1__.updateInventoryUI)();\n        }\n        break;\n      case 'update_coins':\n        if (data.id === game.player.id) {\n          game.player.coins = data.coins;\n        }\n        break;\n    }\n  };\n}\nfunction sendMessage(data) {\n  if (ws && ws.readyState === WebSocket.OPEN) {\n    ws.send(JSON.stringify(data));\n  }\n}\nfunction addChatMessage(characterName, msg) {\n  var chatBox = document.getElementById('chat-box');\n  var div = document.createElement('div');\n  var now = new Date();\n  var timeStr = \"\".concat(now.getHours().toString().padStart(2, '0'), \":\").concat(now.getMinutes().toString().padStart(2, '0'));\n  div.textContent = \"[\".concat(timeStr, \"] \").concat(characterName, \": \").concat(msg);\n  chatBox.insertBefore(div, chatBox.firstChild);\n  chatBox.scrollTop = 0;\n}\ninitWebSocket();\n\n\n//# sourceURL=webpack://godly-open-world/./client/scripts/socket.js?");

/***/ }),

/***/ "./client/scripts/teleport.js":
/*!************************************!*\
  !*** ./client/scripts/teleport.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initTeleport: () => (/* binding */ initTeleport)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./client/scripts/socket.js\");\n\nfunction initTeleport(scene) {\n  scene.input.on('pointerdown', function (pointer) {\n    if (pointer.rightButtonDown()) {\n      // Right-click để teleport\n      var worldPoint = scene.cameras.main.getWorldPoint(pointer.x, pointer.y);\n      var x = Phaser.Math.Clamp(worldPoint.x, 0, 10000);\n      var y = Phaser.Math.Clamp(worldPoint.y, 0, 10000);\n      if (confirm(\"Teleport to X: \".concat(Math.floor(x), \", Y: \").concat(Math.floor(y), \"?\"))) {\n        (0,_socket_js__WEBPACK_IMPORTED_MODULE_0__.sendMessage)({\n          type: 'teleport',\n          id: scene.player.id,\n          x: x,\n          y: y\n        });\n      }\n    }\n  });\n}\n\n\n//# sourceURL=webpack://godly-open-world/./client/scripts/teleport.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./client/scripts/game.js");
/******/ 	
/******/ })()
;